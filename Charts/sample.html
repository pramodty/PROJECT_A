<!DOCTYPE html>
<html>
<head>
	<title>Tree View</title>
	 <!-- <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">  -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 
	<link rel="stylesheet" href="bootstrap-treeview.min.css">
	  <style type="text/css">
    table {
      width: 800px;
      margin: auto;
      text-align: center;
      table-layout: fixed;
    }
    table, td, th {    
      border: 1px solid #ccc;
      /*text-align: left;*/
    }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        padding: 15px;
    }
  </style>
</head>
<body>
	<div class="container" style="margin-top: 25px;">
		<div class="row treeview">
			<div id="tree" class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-10"></div>
			<div class="col-md-1 col-lg-1"></div>
			<table id="example" class="col-xs-12 col-sm-12 col-md-7 col-lg-7 col-xl-10" ></table>
			<div class="col-md-1 col-lg-1"></div>
		</div>

	</div>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!-- -<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script> -->
	<!-- <script type="text/javascript", src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script type="text/javascript", src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script> -->
	<script type="text/javascript", src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="bootstrap-treeview.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			var mytree = [
			  {
			    text: "Manager 1",
			    nodes: [
			      {
			        text: "SUP 1",
			        nodes: [
			          {
			            text: "SUPFOS 1"
			          },
			          {
			            text: "SUPFOS 2"
			          }
			        ]
			      },
			      {
			        text: "SUP 2"
			      }
			    ]
			  },
			  {
			    text: "Manager 2"
			  },
			  {
			    text: "Manager 3"
			  },
			  {
			    text: "Manager 4"
			  },
			  {
			    text: "Manager 5"
			  }
			];


			var list = { 'headers': ['sup1', 'sup2', 'sup3'],
								 'months' : ['July', 'August', 'September'],
							 'data': {
							     'July'     : [10, 20, 40],
							     'August'   : [25, 35, 45],
							     'September': [22, 33, 44],
							  }
							};

			var list1 = { 'headers': ['supfos1', 'supfos2'],
								 'months' : ['July', 'August', 'September'],
							 'data': {
							     'July'     : [12, 21],
							     'August'   : [13, 31],
							     'September': [14, 41],
							  }
							};
			tableCreation(list);
			function tableCreation(list) {
            	// Creating headers and appending to the table
				var thead = "";
				var th = "<th>Month</th>";
				for(var i = 0 ; i < list['headers'].length ; i++){
				   	th = th + "<th id='col-header'>"  + list['headers'][i] + "</th>";
				}
				thead =  "<thead>"+ th + "</thead>";

		      	// Creating td's and appending to the table
		      	tr = "<tbody>";
		      	for(var i = 0 ; i < list['months'].length ; i++){
		          tr = tr + "<tr>";
		          td = "";
		          td = "<td>" + list['months'][i] + "</td>";
		          for(var j = 0 ; j < list['data'][list['months'][i]].length ; j++){
		            td = td + "<td>" + list['data'][list['months'][i]][j] + "</td>";
		          }
		          tr = tr + td + "</tr>";
		      	}
		      	tr = tr + "</tbody>";

				$("#example").html(thead+tr);
				
			}
			$('#tree').treeview({data: mytree});
			$(document).on('click', '.node-tree', function() {
				if ($(this).text() == 'SUP 1') {

					tableCreation(list1);
				}
       			console.log($(this).text());
       			// $('#table1').html($(this).text());

       			
			});
			// $('#example').on('click', '#col-header', function() {
			// 	console.log($(this).text());
			// 	tableCreation(list1);
			// });

		});	
	</script>
</body>
</html>